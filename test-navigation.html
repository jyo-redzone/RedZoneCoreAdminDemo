<!DOCTYPE html>
<html>

<head>
    <title>Navigation Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        .test-step {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ccc;
        }

        .expected {
            background-color: #e8f5e8;
        }

        .actual {
            background-color: #fff3cd;
        }

        .error {
            background-color: #f8d7da;
        }

        .console-log {
            background-color: #f8f9fa;
            padding: 5px;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <h1>Admin Navigation Test</h1>
    <p>Open the admin page at <a href="http://localhost:5173" target="_blank">http://localhost:5173</a></p>

    <h2>Test Sequence</h2>

    <div class="test-step expected">
        <h3>Step 1: Start at Root</h3>
        <p><strong>Action:</strong> Load page</p>
        <p><strong>Expected BC:</strong> ["Home"] (Depth: 1)</p>
        <p><strong>Expected Path:</strong> {}</p>
        <p><strong>Expected Kind:</strong> clubs</p>
    </div>

    <div class="test-step expected">
        <h3>Step 2: Click "Club: Palermo" in EntityList</h3>
        <p><strong>Action:</strong> Click "Club: Palermo" in the middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo"] (Depth: 2)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1"}</p>
        <p><strong>Expected Kind:</strong> sports</p>
    </div>

    <div class="test-step expected">
        <h3>Step 3: Click "Football" in EntityList</h3>
        <p><strong>Action:</strong> Click "Football" in the middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Football"] (Depth: 3)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-1"}</p>
        <p><strong>Expected Kind:</strong> teams</p>
    </div>

    <div class="test-step expected">
        <h3>Step 4: Click "Men's First Team" in EntityList</h3>
        <p><strong>Action:</strong> Click "Men's First Team" in the middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Football", "Men's First Team"] (Depth: 4)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-1", teamId: "team-1"}</p>
        <p><strong>Expected Kind:</strong> users</p>
    </div>

    <div class="test-step expected">
        <h3>Step 5: Click a user in EntityList</h3>
        <p><strong>Action:</strong> Click any user in the middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Football", "Men's First Team"] (Depth: 4) - UNCHANGED
        </p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-1", teamId: "team-1"} - UNCHANGED</p>
        <p><strong>Expected:</strong> Details panel opens</p>
    </div>

    <div class="test-step expected">
        <h3>Step 6: BC Click "Football"</h3>
        <p><strong>Action:</strong> Click "Football" in breadcrumb bar</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Football"] (Depth: 3)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-1"}</p>
        <p><strong>Expected Kind:</strong> teams</p>
        <p><strong>Expected:</strong> Details panel closes</p>
    </div>

    <div class="test-step expected">
        <h3>Step 7: TreeNav Click "Lommel > Football > First Team"</h3>
        <p><strong>Action:</strong> Click "Lommel" → "Football" → "First Team" in left tree</p>
        <p><strong>Expected BC:</strong> ["Home", "Lommel", "Football", "First Team"] (Depth: 4)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-2", sportId: "sport-4", teamId: "team-9"}</p>
        <p><strong>Expected Kind:</strong> users</p>
        <p><strong>Expected:</strong> No Club: Palermo IDs in path</p>
    </div>

    <div class="test-step expected">
        <h3>Step 8: BC Click "Home"</h3>
        <p><strong>Action:</strong> Click "Home" in breadcrumb bar</p>
        <p><strong>Expected BC:</strong> ["Home"] (Depth: 1)</p>
        <p><strong>Expected Path:</strong> {}</p>
        <p><strong>Expected Kind:</strong> clubs</p>
    </div>

    <div class="test-step expected">
        <h3>Step 9: TreeNav Click "Pitches"</h3>
        <p><strong>Action:</strong> Click "Pitches" in left tree</p>
        <p><strong>Expected BC:</strong> ["Home", "Pitches"] (Depth: 2)</p>
        <p><strong>Expected Path:</strong> {pitchesRoot: true}</p>
        <p><strong>Expected Kind:</strong> pitches</p>
        <p><strong>Expected:</strong> No club IDs in path</p>
    </div>

    <div class="test-step expected">
        <h3>Step 10: EntityList Click pitch</h3>
        <p><strong>Action:</strong> Click "Main Stadium" in middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Pitches", "Main Stadium"] (Depth: 3)</p>
        <p><strong>Expected Path:</strong> {pitchId: "pitch-1"}</p>
        <p><strong>Expected Kind:</strong> cameras</p>
    </div>

    <div class="test-step expected">
        <h3>Step 11: EntityList Click camera</h3>
        <p><strong>Action:</strong> Click any camera in middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Pitches", "Main Stadium"] (Depth: 3) - UNCHANGED</p>
        <p><strong>Expected Path:</strong> {pitchId: "pitch-1"} - UNCHANGED</p>
        <p><strong>Expected:</strong> Details panel opens</p>
    </div>

    <div class="test-step expected">
        <h3>Step 12: BC Click "Pitches"</h3>
        <p><strong>Action:</strong> Click "Pitches" in breadcrumb bar</p>
        <p><strong>Expected BC:</strong> ["Home", "Pitches"] (Depth: 2)</p>
        <p><strong>Expected Path:</strong> {pitchesRoot: true}</p>
        <p><strong>Expected Kind:</strong> pitches</p>
        <p><strong>Expected:</strong> Details panel closes</p>
    </div>

    <div class="test-step expected">
        <h3>Step 13: TreeNav Click "Club: Palermo > Rugby > Senior Rugby"</h3>
        <p><strong>Action:</strong> Click "Club: Palermo" → "Rugby" → "Senior Rugby" in left tree</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Rugby", "Senior Rugby"] (Depth: 4)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-2", teamId: "team-5"}</p>
        <p><strong>Expected Kind:</strong> users</p>
        <p><strong>Expected:</strong> No pitch IDs in path</p>
    </div>

    <div class="test-step expected">
        <h3>Step 14: EntityList Click user</h3>
        <p><strong>Action:</strong> Click any user in middle pane</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Rugby", "Senior Rugby"] (Depth: 4) - UNCHANGED</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-2", teamId: "team-5"} - UNCHANGED</p>
        <p><strong>Expected:</strong> Details panel opens</p>
    </div>

    <div class="test-step expected">
        <h3>Step 15: BC Click "Club: Palermo"</h3>
        <p><strong>Action:</strong> Click "Club: Palermo" in breadcrumb bar</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo"] (Depth: 2)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1"}</p>
        <p><strong>Expected Kind:</strong> sports</p>
        <p><strong>Expected:</strong> Details panel closes</p>
    </div>

    <div class="test-step expected">
        <h3>Step 16: BC Click "Home"</h3>
        <p><strong>Action:</strong> Click "Home" in breadcrumb bar</p>
        <p><strong>Expected BC:</strong> ["Home"] (Depth: 1)</p>
        <p><strong>Expected Path:</strong> {}</p>
        <p><strong>Expected Kind:</strong> clubs</p>
    </div>

    <h2>Additional Deep Navigation Tests</h2>

    <div class="test-step expected">
        <h3>Step 17: Deep Club Navigation</h3>
        <p><strong>Action:</strong> Navigate to "Club: Palermo" → "Hockey" → "Men's Hockey"</p>
        <p><strong>Expected BC:</strong> ["Home", "Club: Palermo", "Hockey", "Men's Hockey"] (Depth: 4)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-1", sportId: "sport-3", teamId: "team-7"}</p>
        <p><strong>Expected Kind:</strong> users</p>
    </div>

    <div class="test-step expected">
        <h3>Step 18: Cross-Hierarchy Navigation</h3>
        <p><strong>Action:</strong> From Hockey team, navigate to "Pitches" → "Training Ground A"</p>
        <p><strong>Expected BC:</strong> ["Home", "Pitches", "Training Ground A"] (Depth: 3)</p>
        <p><strong>Expected Path:</strong> {pitchId: "pitch-2"}</p>
        <p><strong>Expected Kind:</strong> cameras</p>
        <p><strong>Expected:</strong> No club/sport/team IDs in path</p>
    </div>

    <div class="test-step expected">
        <h3>Step 19: Back to Club from Pitches</h3>
        <p><strong>Action:</strong> From pitch, navigate to "Lommel" → "Basketball" → "Senior Basketball"</p>
        <p><strong>Expected BC:</strong> ["Home", "Lommel", "Basketball", "Senior Basketball"] (Depth: 4)</p>
        <p><strong>Expected Path:</strong> {clubId: "club-2", sportId: "sport-5", teamId: "team-12"}</p>
        <p><strong>Expected Kind:</strong> users</p>
        <p><strong>Expected:</strong> No pitch IDs in path</p>
    </div>

    <h2>Console Logging</h2>
    <p>Open browser DevTools Console to see detailed logging of:</p>
    <ul>
        <li>Path changes (setPath calls)</li>
        <li>Breadcrumb generation with depth counts</li>
        <li>Navigation source (TreeNav, EntityList, Breadcrumbs)</li>
    </ul>

    <div class="console-log">
        <p><strong>Expected Console Output Pattern:</strong></p>
        <pre>
setPath: {from: {}, to: {clubId: "club-1"}, kind: "sports", isNavigatingToParent: false, shouldCloseDetails: false}
Breadcrumbs (Club): ["Home", "Club: Palermo"] Depth: 2
        </pre>
    </div>

</body>

</html>